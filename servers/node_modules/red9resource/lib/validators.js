var Joi = require('joi');

// This second regex (after the OR) is a legacy option!!! As it turns out, I haven't been using version 4
exports.id = Joi.string().regex(/^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[89aAbB][a-f0-9]{3}-[a-f0-9]{12}|^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$$/).description('unique Red9 UUID');
exports.timestamp = Joi.number().integer().min(0).description('milliseconds since epoch');
exports.summaryStatistics = Joi.object().description('numerically summarizes a period of time from a panel').options({
    className: 'summaryStatistics'
});
exports.multiCSV = function (single) {
    return Joi.alternatives(single, Joi.string()); // A hack for now. See https://github.com/hapijs/joi/issues/460
};
exports.multiArray = function (single) {
    return Joi.alternatives(single, Joi.array().includes(single));
};

exports.duration = Joi.number().integer().min(1);