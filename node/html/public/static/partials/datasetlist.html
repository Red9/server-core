<br/><br/>
<div ng-if="resourceList.length === 0">
    <br/><br/>No results found.
</div>
<div ng-if="resourceList === null">
    <span us-spinner></span>
</div>
<div ng-if="resourceList.length > 0">

    <div class="row">
        <div class="col-xs-9">
            <div class="btn-toolbar" role="toolbar">
                <div class="btn-group">
                    <button class="btn btn-md btn-default" ng-click="deleteSelected(resourceList)"><span class="glyphicon glyphicon-trash"></span></button>
                    <button class="btn btn-md btn-default" ng-click="searchEvents(resourceList)" ng-if="resourceType === 'dataset'">Events</button>
                </div>
            </div>
        </div>
        <div class="col-xs-2">
            <p class="text-muted">{{resourceList.length}} results found</p>
        </div>
        <div class="col-xs-1">
            <select ng-model="resourcePages.itemsPerPage" class="form-control form-control-inline">
                <option value="10">10</option>
                <option value="25">25</option>
                <option value="50">50</option>
                <option value="100">100</option>
            </select>
        </div>
    </div>

    <div class="table-responsive">
        <table class="table table-hover table-condensed">
            <thead>
            <th>
            </th>
            <th>Owner</th>
            <th>Title</th>
            <th></th>
            <th>Evt.</th>
            <th>Vid.</th>
            <th>Com.</th>
            <th></th>
            </thead>

            <tbody>
                <tr ng-repeat-start="dataset in resourcePage" class="ngFade">
                    <td><input type="checkbox" ng-model="dataset.selected"></td>
                    <td><a href="/user/{{dataset.owner.id}}">{{dataset.owner.displayName}}</a></td>
                    <td>{{dataset.title| limitTo:30}}</td>
                    <td><a href="/dataset/{{dataset.id}}" target="_self">View <span class="glyphicon glyphicon-circle-arrow-right"></span></a></td>
                    <td><span class="badge">{{dataset.count.event > 0 ? dataset.count.event : ''}}</span></td>
                    <td><span class="badge">{{dataset.count.video > 0 ? dataset.count.video : ''}}</span></td>
                    <td><span class="badge">{{dataset.count.comment > 0 ? dataset.count.comment : ''}}</span></td>
                    <td>
                        <span class="glyphicon glyphicon-plus" ng-if="!dataset.expanded" ng-click="dataset.expanded = true"></span>
                        <span class="glyphicon glyphicon-minus" ng-if="dataset.expanded" ng-click="dataset.expanded = false"></span>
                    </td>
                </tr>
                <tr ng-if="dataset.expanded" ng-repeat-end="">
                    <td colspan="100">
                        <ul class="list-unstyled">
                            <li>Created On: {{dataset.createTime| date}}</li>
                            <li>Started On: {{dataset.headPanel.startTime| date}}</li>
                            <li>Duration: {{dataset.headPanel.endTime - dataset.headPanel.startTime| duration}}</li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <pagination total-items="resourceList.length" ng-model="resourcePages.currentPage" items-per-page="resourcePages.itemsPerPage" max-size="resourcePages.maxSize" boundary-links="true"></pagination>


</div>


