<script type="text/javascript"
src="/js/dygraph-combined.js"></script>


<script src="/js/dygraph-combined.js"></script>
<script src="/js/spin-1.3.0.min.js"></script>
<script src="/js/moment-2.1.0.min.js"></script>

<script src="/js/dynamic_dygraph.js"></script>

<script src="/socket.io/socket.io.js"></script>

<script>
    var graphs = [];
    var blockRedraw = false;


    $(document).ready(function() {
        var t;

        var accl_config = {
            $graphCont: $("#graph_accl"),
            uuid: "{{{id}}}",
            axes: "accl_x,accl_y,accl_z"
        };
        t = new SRLM.DynamicGraph(accl_config);
        t.init();
        graphs.push(t);




        var gyro_config = {
            $graphCont: $("#graph_gyro"),
            uuid: "{{{id}}}",
            axes: "gyro_x,gyro_y,gyro_z"
        };
        //(new SRLM.DynamicGraph(gyro_config)).init();
        t = new SRLM.DynamicGraph(gyro_config);
        t.init();
        graphs.push(t);

        var magn_config = {
            $graphCont: $("#graph_magn"),
            uuid: "{{{id}}}",
            axes: "magn_x,magn_y,magn_z"
        };
        //(new SRLM.DynamicGraph(magn_config)).init();
        t = new SRLM.DynamicGraph(magn_config);
        t.init();
        graphs.push(t);

        var baro_config = {
            $graphCont: $("#graph_baro"),
            uuid: "{{{id}}}",
            axes: "baro"
        };
        //(new SRLM.DynamicGraph(baro_config)).init();
        t = new SRLM.DynamicGraph(baro_config);
        t.init();
        graphs.push(t);

        var temp_config = {
            $graphCont: $("#graph_temp"),
            uuid: "{{{id}}}",
            axes: "temp"
        };
        //(new SRLM.DynamicGraph(temp_config)).init();
        t = new SRLM.DynamicGraph(temp_config);
        t.init();
        graphs.push(t);


        //var socket = io.connect();



        
        var counter = 0;
        $("#delete").click(function() {
            counter ++;
            if(counter === 0){
                alert("No.");
            }else{
                alert("I thought I said no...");
            }
        });

    });

</script>


<h3> Download:<br />


    <a download="{{id}}-panel.csv" href="/download/raw_data/{{id}}">Panel</a></h3>
<h5> <a download="{{id}}-accl.csv" target="_blank" href="/download/raw_data/{{id}}?columns=accl_x,accl_y,accl_z">Accelerometer</a>
    ~ <a download="{{id}}-gyro.csv" target="_blank" href="/download/raw_data/{{id}}?columns=gyro_x,gyro_y,gyro_z">Gyroscope</a>
    ~ <a download="{{id}}-magn.csv" target="_blank" href="/download/raw_data/{{id}}?columns=magn_x,magn_y,magn_z">Magnetometer</a>
    ~ <a download="{{id}}-baro.csv" target="_blank" href="/download/raw_data/{{id}}?columns=baro">Barometer</a>
    ~ <a download="{{id}}-temp.csv" target="_blank" href="/download/raw_data/{{id}}?columns=temp">Temperature</a>
</h5>
<br />

<h3>Dataset Info:</h3>
<table cellpadding="3" cellspacing="3" class="table table-striped" >
    <tr>
        <td><b>Dataset Title</b></td>
        <td>{{{name}}}</td>
    </tr>
    <tr>
        <td><b>Submit Date</b></td>
        <td>{{{submit_date}}}</td>
    </tr>
    <tr>
        <td><b>Submit User</b></td>
        <td><a href="/user/{{submit_user.id}}">{{{submit_user.display_name}}}</a></td>
    </tr>
    <tr>
        <td><b>Start Time</b></td>
        <td>{{{start_time}}}</td>
    </tr>
    <tr>
        <td><b>End Time</b></td>
        <td>{{{end_time}}}</td>
    </tr>
    <tr>
        <td><b>Event Type</b></td>
        <td>{{{event_type}}}</td>
    </tr>
    <tr>
        <td><b>Description</b></td>
        <td>{{{description}}}</td>
    </tr>
</table>

<h3>Management:</h3>
<div id="delete">
    <a class="btn btn-mini btn-danger">Delete</a>
</div>



<br />
<br />

(<b>zoom</b>: click and drag, <b>pan</b> shift-click and drag, <b>unzoom</b> double-click, <b>lock highlight</b>: click on series)
<br /><input type="checkbox" id="sync_graph_checkbox" name="sync_graph_checkbox"/> Synchronize Graphs
<br />
<br />
<br />

</div>
<div class="container-fluid">

    <div class="row-fluid">
        <div id="graph_accl" class="span5 offset1"
             style="height:350px;"></div>
        <div id="graph_gyro" class="span5"
             style="height:350px;"></div>
    </div>

    <br />
    <br />

    <div class="row-fluid">
        <div id="graph_magn" class="span5 offset1"
             style="height:350px;"></div>
        <div id="graph_baro" class="span5"
             style="height:350px;"></div>
    </div>

    <br />
    <br />

    <div class="row-fluid">
        <div id="graph_temp" class="span10 offset1"
             style="height:350px;"></div>
    </div>



</div>
<div class="container">

    <h2>Meta:</h2>
    <pre><code>
{{{metadata}}}
    </pre></code>

<h2>Processing Notes:</h2>
<pre><code>
{{{processing_stdout}}}
</pre></code>


<h2>Errors:</h2>
<pre><code>
{{{processing_stderr}}}
</code></pre>

<h2>Processing Configuration:</h2>
<pre><code>
{{{processing_config}}}
</code>
</pre>

<br />
<br />
<b>Dataset UUID: </b> {{id}} <br/>
<b>Raw Data UUID: </b> {{data}} <br/>



